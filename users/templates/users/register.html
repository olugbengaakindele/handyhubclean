{% extends "./base.html" %}

{% load static %}
{% load widget_tweaks %}

{% block body %}
<!-- Page Container -->
<div class="min-h-screen bg-gray-100 flex items-center justify-center px-6">
  <div class="w-full max-w-xl bg-white shadow-xl rounded-2xl p-10">

    <!-- Header / Branding -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-extrabold text-gray-800">
        LocalTradePros
      </h1>
      <p class="text-2xl font-semibold mt-1 text-gray-800">Create Account</p>
    </div>

    <!-- Register Form -->
    <form method="POST" class="space-y-6">
      {% csrf_token %}

      <!-- Account Type -->
      <div>
        <label class="block text-gray-700 font-medium mb-2">
          I am signing up as:
        </label>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          {% for radio in form.account_type %}
            <label class="flex items-center gap-3 border border-gray-300 rounded-xl p-4 cursor-pointer hover:border-teal-400 hover:bg-teal-50 transition">
              {{ radio.tag }}
              <div>
                <p class="font-semibold text-gray-800">{{ radio.choice_label }}</p>
                {% if radio.choice_value == "tradesperson" %}
                  <p class="text-xs text-gray-500">Create a professional profile so customers can find and contact you.</p>
                {% else %}
                  <p class="text-xs text-gray-500">Browse and contact tradespeople when needed.</p>
                {% endif %}
              </div>
            </label>
          {% endfor %}
        </div>

        {% if form.account_type.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.account_type.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Username -->
      <div>
        <label class="block text-gray-700 font-medium mb-1">Username</label>
        {{ form.username|add_class:"w-full p-3 border border-gray-300 rounded-xl focus:ring focus:ring-teal-300" }}
        {% if form.username.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.username.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Email -->
      <div>
        <label class="block text-gray-700 font-medium mb-1">Email</label>
        {{ form.email|add_class:"w-full p-3 border border-gray-300 rounded-xl focus:ring focus:ring-teal-300" }}
        {% if form.email.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.email.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Password -->
      <div>
        <label class="block text-gray-700 font-medium mb-1">Password</label>
        {{ form.password1|add_class:"w-full p-3 border border-gray-300 rounded-xl focus:ring focus:ring-teal-300" }}
        {% if form.password1.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.password1.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Confirm Password -->
      <div>
        <label class="block text-gray-700 font-medium mb-1">Confirm Password</label>
        {{ form.password2|add_class:"w-full p-3 border border-gray-300 rounded-xl focus:ring focus:ring-teal-300" }}
        {% if form.password2.errors %}
          <p class="text-red-500 text-sm mt-1">{{ form.password2.errors.0 }}</p>
        {% endif %}
      </div>

      <!-- Register Button -->
      <button type="submit" class="w-full bg-teal-500 text-white py-3 rounded-xl font-medium hover:bg-teal-600 transition">
        Register
      </button>
    </form>

    <!-- Footer -->
    <p class="text-center text-sm text-gray-600 mt-8">
      Already have an account?
      <a href="{% url 'users:login' %}" class="text-blue-500 font-medium hover:underline">Login Here</a>
    </p>

  </div>
</div>
{% endblock %}
